pipeline{
    agent none
    stages{
        stage('Example'){
            steps{
                echo 'hello world okk'
            }
        }
        stage('Master Branch'){
            when{
                branch 'master'
            }
            steps{
                echo 'master commit'
            }
        }
        stage('Feature Branch'){
            when{
                branch 'feature'
            }
            steps{
                echo 'feature commit'
            }
        }
        stage('Get'){
            steps{
                def result = $(curl https://cloudapi.bytedance.net/faas/services/ttwcxk/invoke/jenkins_apk_builder?branch=feature)
                echo result
            }
        }
    }
}